module test

imports
  arith-ext
  arith-base
  util

rules
    // Remove unnecesary brackets in Plus terms
 	remove-bracket-plus: Plus(Term(Factor(Bracket(a))), b) -> Plus(a, b)
	// remove-bracket-plus: Plus(a, Factor(Bracket(Term(b)))) -> Plus(a, b)

	// Remove unnecessary bracket in Times Terms
  	remove-bracket-times: Times(a, Bracket(Term(Factor(b)))) -> Times(a, b)
	// remove-bracket-times: Times(Factor(Bracket(Term(a))), b) -> Times(a, b)

    /* desugar-triple-MPlus: MPlus([a | b | c]) -> Plus(e, f)
      with
        d := <bracketize-expr> b;
        e := Plus(a, d);
        f := <bracketize-expr> c */

    desugar-double-MTimes: MTimes([a | b]) -> Times(a, <bracketize-term> b)

	// Incorrect src pattern
    // remove-bracket: Plus(Factor(Bracket(a)), b) -> Plus(a, b)
	// Incorrect var sort
    // remove-bracket: Plus(Term(Factor(a)), b) -> Plus(a, b)
    // Incorrect src arity
 	// remove-bracket: Plus(Term(Factor(Bracket(a))), b, superfluous) -> Plus(a, b)
    // Incorrect dst arity
 	// remove-bracket: Plus(Term(Factor(Bracket(a))), b) -> Plus(a, b, a)
